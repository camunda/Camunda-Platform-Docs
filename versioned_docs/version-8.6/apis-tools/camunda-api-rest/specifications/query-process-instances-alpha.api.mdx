---
id: query-process-instances-alpha
title: "Query process instances (alpha)"
description: "Search for process instances based on given criteria."
sidebar_label: "Query process instances (alpha)"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: versioned_docs/version-8.6/apis-tools/camunda-api-rest/specifications/camunda-8-rest-api
custom_edit_url: null
hide_send_button: true
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Query process instances (alpha)"}
></Heading>

<MethodEndpoint
  method={"post"}
  path={"/process-instances/search"}
  context={"endpoint"}
></MethodEndpoint>

Search for process instances based on given criteria.

:::note
This endpoint is an [alpha feature](/reference/alpha-features.md) and not enabled on Camunda clusters out of the box.
See the [Camunda 8 REST API overview](/apis-tools/camunda-api-rest/camunda-api-rest-overview.md#query-api)
for further details.
:::

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
></Heading>

<ParamsDetails parameters={undefined}></ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{
    required: false,
    content: {
      "application/json": {
        schema: {
          allOf: [
            {
              type: "object",
              properties: {
                sort: {
                  type: "array",
                  items: {
                    allOf: [
                      {
                        type: "object",
                        properties: {
                          field: { type: "string" },
                          order: { type: "string", default: "asc" },
                        },
                        required: ["field"],
                        title: "SearchQuerySortRequest",
                      },
                    ],
                  },
                },
                page: {
                  allOf: [
                    {
                      type: "object",
                      properties: {
                        from: { type: "integer", format: "int32" },
                        limit: { type: "integer", format: "int32" },
                        searchAfter: {
                          type: "array",
                          items: { type: "object" },
                        },
                        searchBefore: {
                          type: "array",
                          items: { type: "object" },
                        },
                      },
                      title: "SearchQueryPageRequest",
                    },
                  ],
                  type: "object",
                },
              },
              title: "SearchQueryRequest",
            },
          ],
          type: "object",
          properties: {
            filter: {
              allOf: [
                {
                  type: "object",
                  properties: {
                    running: { type: "boolean" },
                    active: { type: "boolean" },
                    incidents: { type: "boolean" },
                    finished: { type: "boolean" },
                    completed: { type: "boolean" },
                    canceled: { type: "boolean" },
                    retriesLeft: { type: "boolean" },
                    errorMessage: { type: "string" },
                    activityId: { type: "string" },
                    startDate: { type: "string", format: "date-time" },
                    endDate: { type: "string", format: "date-time" },
                    bpmnProcessId: {
                      type: "string",
                      description: "The bpmn process ID.",
                    },
                    processDefinitionVersion: {
                      type: "integer",
                      format: "int32",
                    },
                    variable: {
                      allOf: [
                        {
                          type: "object",
                          properties: {
                            name: { type: "string" },
                            values: {
                              type: "array",
                              items: { type: "string" },
                            },
                          },
                          title: "ProcessInstanceVariableFilterRequest",
                        },
                      ],
                    },
                    batchOperationId: { type: "string" },
                    parentProcessInstanceKey: {
                      type: "integer",
                      format: "int64",
                    },
                    tenantId: { type: "string" },
                  },
                  title: "ProcessInstanceFilterRequest",
                },
              ],
            },
          },
          title: "ProcessInstanceSearchQueryRequest",
        },
      },
    },
  }}
></RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{
    "200": {
      description: "The Process Instance Search successful response.\n",
      content: {
        "application/json": {
          schema: {
            allOf: [
              {
                type: "object",
                properties: {
                  page: {
                    allOf: [
                      {
                        type: "object",
                        properties: {
                          totalItems: { type: "integer", format: "int64" },
                          firstSortValues: {
                            type: "array",
                            items: { type: "object" },
                          },
                          lastSortValues: {
                            type: "array",
                            items: { type: "object" },
                          },
                        },
                        title: "SearchQueryPageResponse",
                      },
                    ],
                    type: "object",
                  },
                },
                title: "SearchQueryResponse",
              },
            ],
            type: "object",
            properties: {
              items: {
                type: "array",
                items: {
                  type: "object",
                  properties: {
                    key: { type: "integer", format: "int64" },
                    processDefinitionName: {
                      type: "string",
                      description: "The process name.",
                    },
                    processDefinitionVersion: {
                      type: "integer",
                      format: "int32",
                    },
                    bpmnProcessId: { type: "string" },
                    parentKey: { type: "integer", format: "int64" },
                    parentFlowNodeInstanceKey: {
                      type: "integer",
                      format: "int64",
                    },
                    startDate: { type: "string", format: "date-time" },
                    endDate: { type: "string", format: "date-time" },
                    state: {
                      type: "string",
                      enum: [
                        "ACTIVE",
                        "INCIDENT",
                        "COMPLETED",
                        "CANCELED",
                        "UNKNOWN",
                        "UNSPECIFIED",
                      ],
                    },
                    incident: { type: "boolean" },
                    hasActiveOperation: { type: "boolean" },
                    processDefinitionKey: { type: "integer", format: "int64" },
                    tenantId: { type: "string" },
                    rootInstanceId: { type: "string" },
                    operations: {
                      type: "array",
                      items: {
                        description: " Operation",
                        type: "object",
                        properties: {
                          id: { type: "string" },
                          batchOperationId: { type: "string" },
                          type: {
                            type: "string",
                            enum: [
                              "RESOLVE_INCIDENT",
                              "CANCEL_PROCESS_INSTANCE",
                              "DELETE_PROCESS_INSTANCE",
                              "ADD_VARIABLE",
                              "UPDATE_VARIABLE",
                              "MODIFY_PROCESS_INSTANCE",
                              "DELETE_DECISION_DEFINITION",
                              "DELETE_PROCESS_DEFINITION",
                              "MIGRATE_PROCESS_INSTANCE",
                            ],
                          },
                          state: {
                            type: "string",
                            enum: [
                              "SCHEDULED",
                              "LOCKED",
                              "SENT",
                              "FAILED",
                              "COMPLETED",
                            ],
                          },
                          errorMessage: { type: "string" },
                          completedDate: {
                            type: "string",
                            format: "date-time",
                          },
                        },
                        title: "OperationItem",
                      },
                    },
                    callHierarchy: {
                      type: "array",
                      items: {
                        description: "Process instance reference description",
                        type: "object",
                        properties: {
                          instanceId: { type: "string" },
                          processDefinitionId: { type: "string" },
                          processDefinitionName: { type: "string" },
                        },
                        title: "ProcessInstanceReferenceItem",
                      },
                    },
                  },
                  title: "ProcessInstanceItem",
                },
              },
            },
            title: "ProcessInstanceSearchQueryResponse",
          },
        },
      },
    },
    "400": {
      description:
        "The Process Instance Search Query failed. More details are provided in the response body.\n",
      content: {
        "application/problem+json": {
          schema: {
            description:
              "A Problem detail object as described in [RFC 9457](https://www.rfc-editor.org/rfc/rfc9457). There may be additional properties specific to the problem type.\n",
            type: "object",
            properties: {
              type: {
                type: "string",
                format: "uri",
                description: "A URI identifying the problem type.",
                default: "about:blank",
              },
              title: {
                type: "string",
                description: "A summary of the problem type.",
              },
              status: {
                type: "integer",
                format: "int32",
                description: "The HTTP status code for this problem.",
                minimum: 400,
                maximum: 600,
              },
              detail: {
                type: "string",
                description: "An explanation of the problem in more detail.",
              },
              instance: {
                type: "string",
                format: "uri",
                description: "A URI identifying the origin of the problem.",
              },
            },
            title: "ProblemDetail",
          },
        },
      },
    },
    "500": {
      description: "An internal error occurred while processing the request.\n",
      content: {
        "application/problem+json": {
          schema: {
            description:
              "A Problem detail object as described in [RFC 9457](https://www.rfc-editor.org/rfc/rfc9457). There may be additional properties specific to the problem type.\n",
            type: "object",
            properties: {
              type: {
                type: "string",
                format: "uri",
                description: "A URI identifying the problem type.",
                default: "about:blank",
              },
              title: {
                type: "string",
                description: "A summary of the problem type.",
              },
              status: {
                type: "integer",
                format: "int32",
                description: "The HTTP status code for this problem.",
                minimum: 400,
                maximum: 600,
              },
              detail: {
                type: "string",
                description: "An explanation of the problem in more detail.",
              },
              instance: {
                type: "string",
                format: "uri",
                description: "A URI identifying the origin of the problem.",
              },
            },
            title: "ProblemDetail",
          },
        },
      },
    },
  }}
></StatusCodes>
